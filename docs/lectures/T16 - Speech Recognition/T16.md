---
marp: true
theme: default
class:
  - invert
author: Nirand Pisutha-Arnond
paginate: true
footer: "255411: Information Technologies for Industrial Engineers"
---

<style>
@import url('https://fonts.googleapis.com/css2?family=Prompt:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,400;1,700&display=swap');

    :root {
    font-family: Prompt;
    --hl-color: #D57E7E;
}
h1 {
  font-family: Prompt
}
</style>

# Information Technologies for Industrial Engineers

## เทคโนโลยีสารสนเทศสำหรับวิศวกรอุตสาหการ

---

# Speech Recognition Application

---

# Keyword spotting

- _Convolutional Neural Networks for Small-footprint Keyword Spotting_ [Source](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/43969.pdf)

---

# Setting up

- `npm install @tensorflow-models/speech-commands@0.4.2`
  - The newer version does not work.
- `npm install -D vite-plugin-node-polyfills`
  - Use _polyfill_
  - Code that implements a feature that Vite does not natively support.

---

`./vite.config.js`

```js
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";
import { nodePolyfills } from "vite-plugin-node-polyfills";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    react(),
    {
      ...nodePolyfills({
        // To exclude specific polyfills, add them to this list.
        exclude: [
          "fs", // Excludes the polyfill for `fs` and `node:fs`.
        ],
        // Whether to polyfill specific globals.
        globals: {
          Buffer: true, // can also be 'build', 'dev', or false
          global: true,
          process: true,
        },
        // Whether to polyfill `node:` protocol imports.
        protocolImports: true,
      }),
      apply: "build",
    },
  ],
  define: {
    "process.env": {},
  },
});
```

---

`./src/model.ts`

```ts
import * as speech from "@tensorflow-models/speech-commands";

export async function load_model() {
  try {
    const recognizer = speech.create("BROWSER_FFT");
    await recognizer.ensureModelLoaded();
    const labels = recognizer.wordLabels();
    return { model: recognizer, labels };
  } catch (err) {
    console.log(err);
    return { model: null, labels: [] as string[] };
  }
}
```

---

# Code

`./src/App.tsx`
https://gist.github.com/nnnpooh/88ae4e520fad0ad12582114cb0edca22#file-app-tsx
